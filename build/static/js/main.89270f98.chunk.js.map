{"version":3,"sources":["services/serverservices.js","components/Notification.js","components/PersonForm.js","components/PersonDisplay.js","components/Filter.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","exportServices","get","axios","create","newObject","post","update","id","put","remove","delete","Notification","props","message","notiClass","type","className","PersonForm","event","nameValue","nameEvent","numberValue","numberEvent","onSubmit","value","onChange","PersonDisplay","person","name","number","onClick","Filter","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","searchInput","setSearchInput","notiMessage","setNoti","notiDisplay","notiTimeout","setTimeout","useEffect","personService","then","response","data","results","filter","toLowerCase","includes","target","preventDefault","some","window","confirm","personObj","find","status","catch","error","console","log","map","deletePerson","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.89270f98.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst get = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst remove = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\nconst exportServices = {get, create, update, remove}\nexport default exportServices","const Notification= ({props}) => {\n    if (props.message === '') {\n      return null\n    }\n    \n    const notiClass = props.type==='success' ? 'notiSuccess' : 'notiFail'\n    return (\n      <div className={`${notiClass} noti`}>\n        {props.message}\n      </div>\n    )\n  }\nexport default Notification","const PersonForm = (props) => {\n    const {event, nameValue, nameEvent, numberValue, numberEvent} = props\n    return (\n      <form onSubmit={event}>\n        <div>\n          name: <input value={nameValue} onChange={nameEvent}/>\n        </div>\n        <div>\n          number: <input value={numberValue} onChange={numberEvent}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm\n","const PersonDisplay = ({person, event}) => {\n    return (\n      <div> \n      <p>{person.name} {person.number}</p><button onClick={event}>delete</button> \n      </div>)\n    \n}\n\nexport default PersonDisplay","const Filter = (props) => {\n    return (\n      <div>\n        filter shown with <input value={props.value} onChange={props.event}/>\n      </div>\n    )\n}\n\nexport default Filter","import React, { useEffect, useState } from 'react'\nimport personService from './services/serverservices'\nimport './style.css'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport PersonDisplay from './components/PersonDisplay'\nimport Filter from './components/Filter'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchInput, setSearchInput ] = useState('')\n  const [ notiMessage, setNoti ] = useState({'type': '', 'message': ''})\n\n  const notiDisplay = (type, message) => {\n    setNoti({\n        'type': type,\n        'message': message\n    })\n  }\n\n  const notiTimeout = () => {\n    setTimeout(() => {\n      setNoti({\n        'type': '',\n        'message': ''\n      })\n    }, 5000)\n  }\n\n  useEffect(() => {\n    personService\n      .get()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n \n  const addPersonEvent = (event) => {\n    event.preventDefault()\n    const existCheck = persons.some(person => person['name'] === `${newName}`)\n    \n    if (existCheck) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        const personObj = persons.find(person => person['name'] === newName)\n        personObj.number = newNumber\n\n        personService\n        .update(personObj.id, personObj)\n        .then(response => {\n          setNewName('')\n          setNewNumber('')\n          if (response.status === 200){\n            notiDisplay('success', `Update ${personObj.name}'s number`)\n            notiTimeout()\n          }\n        })\n        .catch(error => {\n          if(error.response.status === 404){\n            notiDisplay('error', `${error}`)\n            notiTimeout()\n          }\n        })\n      }\n    } \n    else {\n      const personObj = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n      .create(personObj)\n      .then(response => {\n        setPersons([...persons, response.data])\n        setNewName('')\n        setNewNumber('')\n        notiDisplay('success', `Added ${response.data.name}`)\n        notiTimeout()\n      })\n      .catch(error =>{\n        console.log(error);\n        notiDisplay('error', `${error}`)\n        notiTimeout()\n      })\n    }\n  }\n\n  const deletePersonEvent = (deletePerson) => {\n    if (window.confirm(`Delete ${deletePerson.name}?`)) {\n      personService\n      .remove(deletePerson.id)\n      .then(response => {\n        setPersons(persons.filter(person => person !== deletePerson))\n        notiDisplay('success', `Delete ${deletePerson.name}`)\n        notiTimeout()\n      }\n        \n      )\n      .catch(error => {\n        console.log(error)\n        notiDisplay('error',`${error}`)\n        notiTimeout()\n      })\n    }\n  }\n\n  const handleNameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchInput = (event) => {\n    setSearchInput(event.target.value)\n  }\n\n  const results = searchInput === '' ? persons : persons.filter(person => person.name.toLowerCase().includes(searchInput.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification props={notiMessage} />\n      <Filter value={searchInput} event={handleSearchInput} />\n      <h2>Add a new</h2>\n      <PersonForm event={addPersonEvent} nameValue={newName} nameEvent={handleNameInput} numberValue={newNumber} numberEvent={handleNumberInput} />\n      <h2>Numbers</h2>\n      {results.map(person => <PersonDisplay key={person.id} person={person} event={() => deletePersonEvent(person)} />)}\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}